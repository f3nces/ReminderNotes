# Databases

[TOC]

## Relational Databases

### MySql

```bash
# Start Mysql service
service mysql start

# Connect to remote SQL database
mysql -u [username] -p -h [host ip]

# Open SQL database file locally (change to the directory of the mysql file/files)
mysql -u [username] -p
source [sql filename]
```

```sql
# Displaying the databases
SHOW DATABASES;

# Choosing a database to view
USE [database name];

# Displaying the tables in the selected database
SHOW TABLES;

# Describing the table data structure
DESCRIBE [table name];
```

### SQL Server (port = 1433)

```bash
# Connect to remote SQL Server database
sqsh -S [server] -U [username] -P [password]

# Run MS Windows commands (if enabled)
xp_cmdshell 'COMMAND';
```

```sql
# Send a SQL batch to the database
go
```





## Non-Relational Databases (NoSQL - Not only SQL)

- **Collections** are similar to tables or views in SQL.
- **Documents** are similar to rows or records in SQL.
- **Fields** are similar to columns in SQL.
- MongoDB are objects stored in a format called [BSON](https://bsonspec.org/), which supports [JSON](https://www.json.org/json-en.html) data types for document storing
- Query Operators:
  - **$and** equivalent to **AND**
  
  - **$or** equivalent to **OR**
  
  - **$eq** equivalent to **=**
  
  - **$eq** - matches records that equal to a certain value
  
  - **$ne** - matches records that are not equal to a certain value
  
  - **$gt** - matches records that are greater than a certain value.
  
  - **$where** - matches records based on Javascript condition
  
  - **$exists** - matches records that have a certain field
  
  - **$regex** - matches records that satisfy certain regular expressions.

```sql
# Connect to Mongo
mongo

# Displaying the databases
show databases

# Connect to a database if it exists or create a new one if it doesn't exist
use [database name]

# Get Collections
db.getCollectionNames();

# Create Collections
db.createCollection("collection_name")

# Update Collection
db.<collection>.insert({attribute1: "value1", attribute2: "value2"})

# Update Collection
db.<collection>.update({id:"2"}, {$set: {attribute: "value"}})

# Remove Document
db.<collection>.remove('id':'2'})

# Remove Collection
db.<collection>.drop()

# Query Collection
db.users.find({"query"})
db.users.findOne({"query"})
```